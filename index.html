<!DOCTYPE html>
<html lang="zh-Hans-CN">

<head>
    <meta charset="UTF-8">
    <title>InvestmentResultSimulation</title>
    <!-- Import style -->
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css" />
    <!-- Import Vue 3 -->
    <!-- <script src="//unpkg.com/vue@3"></script> -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Import component library -->
    <script src="https://unpkg.com/element-plus"></script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.1"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue-echarts@latest"></script> -->
    <script src="https://unpkg.com/echarts@5.4.1"></script>
    <script src="https://unpkg.com/vue-echarts@latest"></script>
    <script src="https://unpkg.com/dayjs/dayjs.min.js"></script>

    <style>
        @media (width > 1000px) {
            #app {
                margin: auto;
                width: 1%;
                width: 810px;
            }
        }

        .my-form {
            width: 600px;
        }

        .chart {
            height: 1000px;
            width: 750px;
            margin: 10px 0;
        }

        .img {
            /* width: 600px; */
            margin: 50px 0 0;
        }
    </style>
</head>

<body>
    <div id="app">
        <div>
            <el-form :model="form" class="my-form" label-width="150px" label-position="left">
                <el-form-item label="长钱账户">
                    <el-input class="my-input" v-model="form.cqzh" />
                </el-form-item>
                <el-form-item label=" 稳钱账户">
                    <el-input class="my-input" v-model="form.wqzh" />
                </el-form-item>
                <el-form-item label="海外长钱">
                    <el-input class="my-input" v-model="form.hwcq" />
                </el-form-item>
                <el-form-item label="投资标的比例">
                    <el-form-item label="A股整体">
                        <el-input class="my-input" v-model="form.accountRate1" />
                    </el-form-item>
                    <el-form-item label="中国债券">
                        <el-input class="my-input" v-model="form.accountRate2" />
                    </el-form-item>
                    <el-form-item label="标普500">
                        <el-input class="my-input" v-model="form.accountRate3" />
                    </el-form-item>
                    <el-form-item label="海外债券">
                        <el-input class="my-input" v-model="form.accountRate4" />
                    </el-form-item>
                    <el-form-item>
                        <div>比例的和需为1（用于计算的比例：{{ formAdjust.accountRateShow }}）</div>
                    </el-form-item>
                </el-form-item>
                <el-form-item label="投资时长（年）">
                    <el-form-item>
                        <el-input class="my-input" v-model="form.investmentYears" />
                    </el-form-item>
                    <el-form-item>
                        <div>注意：时长越大，计算所需时间越长。超过100可能会导致页面崩溃。</div>
                    </el-form-item>
                </el-form-item>
                <el-form-item label="一次性投入/定投">
                    <el-switch v-model="form.isOneTimeInvestment" inline-prompt size="large"
                        style="--el-switch-on-color: var(--el-color-success); --el-switch-off-color: var(--el-color-primary)"
                        active-text="&nbsp;一次性投入&nbsp;" inactive-text="&nbsp;月定投&nbsp;" />
                </el-form-item>
                <el-form-item>
                    <el-button type="primary" @click="onDoCalculate(10000 * 3)">计算</el-button>
                </el-form-item>
            </el-form>
            <el-text type="primary">{{ message }}</el-text><br />
            <el-text>参考资料：
                <el-link type="primary" href="https://youzhiyouxing.cn/n/materials/1656"
                    target="_blank">有知有行《养老配置方案投资结果分布说明》(https://youzhiyouxing.cn/n/materials/1656)</el-link>
            </el-text><br />
            <el-text>制作背景和作者的使用体会：
                <el-link type="primary" href="https://mp.weixin.qq.com/s/vKE18Q4MQPK8ed2wb-d1Ww"
                    target="_blank">《投资结果的概率分布测算工具》（微信公众号文章）</el-link>
            </el-text>
        </div>
        <div v-if="option.title != null">
            <div style="margin: 1em 0;">
                <el-text>
                    说明：<br />
                    [优X%]和[差X%]指的是概率值，优的X是距离100%的距离，差的X是距离0%的距离。<br />
                    通过区间两端的指标数值，可以提供投资回报的参考。<br />
                    如何使用：<br />
                    落在[优1%]~[优5%]这个区间的概率为5%-1%=(100%-1%)-(100%-5%)=4%，<br />
                    落在[优20%]~[差20%]这个区间的概率为(100%-20%)-20%=60%，<br />
                    落在[中间]~[差20%]这个区间的概率为50%-20%=30%。<br />
                    注意，[优10%]并不代表有10%的概率会落在这个值上，[中间]也不代表有50%会落在这个值上。区间概率分布才有意义。
                </el-text>
            </div>
            <e-charts ref="chartRef" class="chart" :option="option" />
        </div>
        <div v-if="option2.title != null">
            <e-charts ref="chartRef2" class="chart" :option="option2" />
        </div>
        <div v-if="option.title != null" class="img">
            <img width='266px' height='215px'
                src='data:image/gif;base64,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'>
        </div>
    </div>
</body>
<script>
    const { createApp, ref, watch, computed } = Vue;
    dayjs().format();
    // const dayjs = dayjs();
    createApp({
        setup() {
            const message = ref('Hello!');

            const form = ref({
                cqzh: 70,
                wqzh: 20,
                hwcq: 10,
                accountRate1: 0,
                accountRate2: 0,
                accountRate3: 0,
                accountRate4: 0,
                isOneTimeInvestment: false,
                investmentYears: 10,
            });
            const formAdjust = ref({
                cqzh: form.value.cqzh,
                wqzh: form.value.wqzh,
                hwcq: form.value.hwcq,
                accountRateList: [0, 0, 0, 0],
                accountRateShow: "",
            });
            const chartRef = ref();
            const chartRef2 = ref();
            const option = ref({});
            const option2 = ref({});

            watch(() => form, () => {
                if (form.value.cqzh != formAdjust.value.cqzh ||
                    form.value.wqzh != formAdjust.value.wqzh ||
                    form.value.hwcq != formAdjust.value.hwcq
                ) {
                    if (form.value.cqzh + form.value.wqzh + form.value.hwcq != 100) {
                        if (form.value.hwcq != formAdjust.value.hwcq) {
                            formAdjust.value.cqzh = 100 - form.value.hwcq - form.value.wqzh;
                            form.value.cqzh = formAdjust.value.cqzh;
                            formAdjust.value.wqzh = form.value.wqzh;
                            formAdjust.value.hwcq = form.value.hwcq;
                        } else {
                            formAdjust.value.hwcq = 100 - form.value.cqzh - form.value.wqzh;
                            formAdjust.value.cqzh = form.value.cqzh;
                            formAdjust.value.wqzh = form.value.wqzh;
                            form.value.hwcq = formAdjust.value.hwcq;
                        }
                        calculateAccountRate();
                    }
                } else {
                    try {
                        let accountRateList = [
                            Number(form.value.accountRate1),
                            Number(form.value.accountRate2),
                            Number(form.value.accountRate3),
                            Number(form.value.accountRate4)
                        ];
                        let total = 0;
                        accountRateList.forEach(element => {
                            total += element;
                        });
                        if (total == 1) {
                            formAdjust.value.accountRateList = accountRateList;
                            formAdjust.value.accountRateShow = accountRateList.reduce((acc, val) => { return (acc == 0 ? "" : acc) + (val * 100).toFixed(2) + "%, "; }, 0);
                            formAdjust.value.accountRateShow = formAdjust.value.accountRateShow.substring(0, formAdjust.value.accountRateShow.length - 2)
                        }
                    } catch { }
                }
            }, { deep: true });

            const calculateAccountRate = () => {
                //长稳海组合各自对底层的权重系数
                let weightsSet = [
                    [0.65, 0.35, 0, 0],
                    [0.15, 0.85, 0, 0],
                    [0, 0, 0.70, 0.30]
                ];
                let accountRateList = [0, 0, 0, 0];
                for (let i = 0; i < 4; i++) {
                    accountRateList[i] += weightsSet[0][i] * formAdjust.value.cqzh / 100;
                    accountRateList[i] += weightsSet[1][i] * formAdjust.value.wqzh / 100;
                    accountRateList[i] += weightsSet[2][i] * formAdjust.value.hwcq / 100;
                }
                if (!formAdjust.value.accountRateList.every((value, index) => value === accountRateList[index])) {
                    form.value.accountRate1 = accountRateList[0].toFixed(4);
                    form.value.accountRate2 = accountRateList[1].toFixed(4);
                    form.value.accountRate3 = accountRateList[2].toFixed(4);
                    form.value.accountRate4 = accountRateList[3].toFixed(4);
                }
            }
            calculateAccountRate();

            const onDoCalculate = (numSimulations) => {
                message.value = "计算中，当前页面会失去响应，请耐心等待";
                if (form.value.investmentYears < 5)
                    form.value.investmentYears = 5;
                option.value = {};
                option2.value = {};
                window.setTimeout(() => {
                    let startTime = dayjs();
                    onDoCalculate2(numSimulations);
                    console.log("Done, use " + dayjs().diff(startTime, "ms") + " ms");
                }, 100);
            }
            const onDoCalculate2 = (numSimulations) => {
                let totalMonth = 12 * form.value.investmentYears; // 投资总月数
                let monthlyInvestment = form.value.isOneTimeInvestment ? 10000 * totalMonth : 10000; // 每月投资金额

                // 已知条件
                let expectedReturns = [0.09, 0.025, 0.10, 0.02]; // 年化收益率
                let volatilities = [0.35, 0.0338, 0.20, 0.064]; // 年化波动率
                let correlations = [ // 相关系数矩阵
                    [1.00, -0.44, 0.36, 0.38],
                    [-0.44, 1.00, -0.53, -0.27],
                    [0.36, -0.53, 1.00, 0.31],
                    [0.38, -0.27, 0.31, 1.00],
                ];
                let weightOfAccount = formAdjust.value.accountRateList; // 权重

                // 计算组合预期收益率
                let portfolioReturn = calculatePortfolioReturn(expectedReturns, weightOfAccount);

                // 计算组合波动率（标准差）
                let portfolioVolatility = calculatePortfolioVolatility(volatilities, correlations, weightOfAccount);

                console.log("预期组合年收益率: ", portfolioReturn);
                console.log("预期组合年波动率: ", portfolioVolatility);

                //转换为月
                portfolioReturn = Math.pow((portfolioReturn + 1), 1.0 / 12) - 1;
                // portfolioReturn = portfolioReturn / 12;
                portfolioVolatility = portfolioVolatility / Math.sqrt(12);

                console.log("预期组合月收益率: ", portfolioReturn);
                console.log("预期组合月波动率: ", portfolioVolatility);

                let result = runMonteCarloSimulations(portfolioReturn, portfolioVolatility, monthlyInvestment, totalMonth, form.value.isOneTimeInvestment, numSimulations);

                console.log(result);
                option.value = getChartsOption(monthlyInvestment, totalMonth, form.value.isOneTimeInvestment, result);
                option2.value = getChartsOption2(monthlyInvestment, totalMonth, form.value.isOneTimeInvestment, result);
                message.value = "Done";
            };

            // 计算组合预期收益率
            const calculatePortfolioReturn = (expectedReturns, weightOfAccount) => {
                return expectedReturns.reduce((acc, currentReturn, i) => {
                    return acc + (currentReturn * weightOfAccount[i]);
                }, 0);
            }

            // 计算组合波动率（标准差）
            // 这里使用标准公式，其中包括资产的波动率和资产间的协方差
            const calculatePortfolioVolatility = (volatilities, correlations, weightOfAccount) => {
                let portfolioVolatility = 0;
                for (let i = 0; i < volatilities.length; i++) {
                    for (let j = 0; j < volatilities.length; j++) {
                        let cov = (i === j) ? volatilities[i] ** 2 : correlations[i][j] * volatilities[i] * volatilities[j];
                        portfolioVolatility += weightOfAccount[i] * weightOfAccount[j] * cov;
                    }
                }
                return Math.sqrt(portfolioVolatility);
            }

            const calcualteXirr = (transactions) => {
                let lowRate = -1.0;
                let highRate = 10.0;
                const maxEpsilon = 1; // 收敛误差阈值
                const maxIterations = 100; // 最大迭代次数
                let dates = [];
                let values = [];

                // 准备数据，分开日期和现金流量
                transactions.forEach((transaction) => {
                    dates.push(transaction.date);
                    values.push(transaction.amount);
                });

                // 计算总天数
                function totalDays(date1, date2) {
                    return date2.diff(date1, "day");
                }

                // 计算现金流量的净现值（NPV）
                function npv(rate) {
                    return values.reduce((acc, val, idx) => {
                        return acc + (val / Math.pow(1 + rate, totalDays(dates[0], dates[idx]) / 365));
                    }, 0);
                }

                // 二分法搜索
                for (let i = 0; i < maxIterations; i++) {
                    const midRate = (lowRate + highRate) / 2;
                    const npvMid = npv(midRate);

                    if (Math.abs(npvMid) < maxEpsilon) {
                        return midRate;
                    }

                    // 调整搜索范围
                    if (npvMid > 0) {
                        lowRate = midRate;
                    } else {
                        highRate = midRate;
                    }
                }
                throw new Error('XIRR not found');
            };

            //蒙特卡罗模拟
            const runMonteCarloSimulations = (portfolioReturn, portfolioVolatility,
                monthlyInvestment, totalMonths, isOneTimeInvestment, numSimulations = 10000) => {
                let finalValues = [];  // 存储每次模拟的最终价值
                let monthlyValues = [];// 存储每月的每次模拟的月末价值
                for (let month = 0; month <= totalMonths; month++) {
                    monthlyValues.push([]);
                }
                // 模拟每个月的投资收益
                for (let sim = 0; sim < numSimulations; sim++) {
                    let futureValue = monthlyInvestment;
                    monthlyValues[0].push(futureValue);
                    for (let month = 1; month <= totalMonths; month++) {
                        // 模拟的月收益率是正态分布，其中期望值为月度收益率，标准差为月度波动率。
                        let monthlyReturn = portfolioReturn + portfolioVolatility * randomNormal();
                        futureValue *= 1 + monthlyReturn;
                        monthlyValues[month].push(futureValue);
                        if (!isOneTimeInvestment && month < totalMonths)
                            futureValue += monthlyInvestment;
                    }
                    finalValues.push(futureValue);
                }

                finalValues.sort((a, b) => a - b);
                let costList = [];
                for (let month = 0; month <= totalMonths; month++) {
                    monthlyValues[month].sort((a, b) => a - b);
                    costList.push(isOneTimeInvestment ? monthlyInvestment : monthlyInvestment * Math.min(month + 1, totalMonths));
                }
                let result = {
                    finalValues: finalValues,
                    monthlyValues: monthlyValues,
                    costList: costList,
                    msg: (form.value.isOneTimeInvestment ? "一次性投入" : "月定投") +
                        " 投资" + form.value.investmentYears + "年" +
                        " 总成本" + (costList[costList.length - 1] / 10000).toFixed(0) + "万" + "\n" +
                        "A股整体, 中国债券, 标普500, 海外债券：" + formAdjust.value.accountRateShow,
                };
                for (let i = 0.05; i < 1; i += 0.45) {
                    let a = finalValues[(i * numSimulations).toFixed(0)];
                    result["V_" + (i * 100).toString().padStart(2, "0") + "_Percentile"] = a.toFixed(0) + ", " + (a / monthlyInvestment / (isOneTimeInvestment ? 1 : totalMonths) * 100).toFixed(2) + "%"
                }
                return result;
            }

            // 生成标准正态分布的随机数 (Box-Muller transform)
            const randomNormal = () => {
                let u = 0, v = 0;
                while (u === 0) u = Math.random();  //避免u为0
                while (v === 0) v = Math.random();
                return Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);
            }

            const getChartsOption = (monthlyInvestment, totalMonths, isOneTimeInvestment, data) => {
                let monthlyValues = data.monthlyValues;
                let isYearly = totalMonths > 10 * 12;
                let xAxisList = [];

                // 首先，初始化series数组，该数组将包含所有模拟的数据
                let series = [];

                // 循环遍历每次模拟
                let CumulativeOffset = []; //使用累积面积图，记录累计值做偏移
                // F8EFFF
                // EFDBFF
                // D3ADF7
                // B889EA
                // 9F69E2
                // 8049C6
                // 531DAB
                // 391085
                // 22075E
                let colorList = ['rgba(255, 255, 255, 0)', '#EFDBFF', '#B889EA', '#8049C6', '#8049C6', '#B889EA', '#EFDBFF',];
                for (let i = 1; i <= 99;) {
                    let seriesData = [];
                    let lastValue = 0;
                    let xirrTransactions = [];

                    let xirr = 0;
                    for (let month = 0; month < totalMonths; month++) {
                        lastValue = 0;
                        if ((!isYearly && (month + 1) >= 12) || (isYearly && (month + 1) % 12 == 0)) {
                            lastValue = monthlyValues[month][(i / 100.0 * monthlyValues[month].length).toFixed(0)];
                            xirrTransactions.push({ amount: lastValue, date: dayjs().add(month, 'month') });
                            lastValue = calcualteXirr(xirrTransactions);
                            xirrTransactions.pop();
                            xirr = lastValue;
                            lastValue += 1;
                            let indexOfData = seriesData.length;
                            if (CumulativeOffset.length == indexOfData) {
                                //第一个series
                                seriesData.push(lastValue);
                                CumulativeOffset.push(lastValue);
                                xAxisList.push(!isYearly ? "月" + (month + 1) : "年" + ((month + 1) / 12));
                            } else {
                                //非第一个series
                                seriesData.push(lastValue - CumulativeOffset[indexOfData]);
                                CumulativeOffset[indexOfData] = lastValue;
                            }
                        }
                        if (month == 0 || !isOneTimeInvestment)
                            xirrTransactions.push({ amount: -monthlyInvestment, date: dayjs().add(month, 'month') });
                    }
                    let name = "中间";
                    if (i < 50)
                        name = "差" + i + "%";
                    if (i > 50)
                        name = "优" + (100 - i) + "%";
                    //name += " XIRR: " + (xirr * 100).toFixed(1) + "%"
                    // 每次模拟的数据将是一个新对象
                    let seriesObj = {
                        name: name, // 为每个模拟创建一个名称，如"Simulation 1"
                        type: 'line', // 图表类型是折线图
                        data: seriesData, // 数据是这个模拟每个月末的价值
                        smooth: false, // 如果你希望线条平滑可以设置为true
                        showSymbol: false, // 不显示数据点的符号
                        endLabel: {
                            show: true,
                            fontSize: 14,
                            fontWeight: "bold",
                            formatter: function () {
                                return name + " XIRR: " + (xirr * 100).toFixed(1) + "%";
                            }
                        },
                        labelLayout: {
                            moveOverlap: 'shiftY',   //设置这个配置项之后标签不在重叠
                        },
                        stack: 'Total',
                        itemStyle: { color: (i <= 80 && i >= 20) ? 'rgba(255, 255, 255, 0.4)' : 'rgba(0, 0, 0, 0.15)', },
                        areaStyle: {
                            color: colorList[series.length],
                            opacity: 0.8,
                        },
                    };

                    // 将这个对象添加到series数组中
                    series.push(seriesObj);

                    switch (i) {
                        case 1:
                            i = 5;
                            break;
                        case 5:
                            i = 20;
                            break;
                        case 20:
                            i = 50;
                            break;
                        case 50:
                            i = 80;
                            break;
                        case 80:
                            i = 95;
                            break;
                        case 95:
                            i = 99;
                            break;
                        case 99:
                            i = 100;
                            break;
                    }
                }
                {
                    let seriesObj = {
                        name: "base", // 为每个模拟创建一个名称，如"Simulation 1"
                        type: 'line', // 图表类型是折线图
                        //data: data.costList, // 数据是这个模拟每个月末的价值
                        data: Array.from({ length: monthlyValues.length }, (_, i) => 1),
                        smooth: false, // 如果你希望线条平滑可以设置为true
                        showSymbol: false, // 不显示数据点的符号
                        labelLayout: {
                            moveOverlap: 'shiftY',   //设置这个配置项之后标签不在重叠
                        },
                        itemStyle: { color: '#c33' },
                    };

                    // 将这个对象添加到series数组中
                    series.push(seriesObj);
                }
                console.log(series);

                if (monthlyValues == null) return {};

                let o = {
                    toolbox: {
                        feature: {
                            dataZoom: {
                                yAxisIndex: 'none'
                            },
                            restore: {},
                            saveAsImage: {}
                        }
                    },
                    animationDuration: 500,
                    title: {
                        text: "XIRR概率分布 " + data.msg,
                        // textAlign: "center",
                        // left: "50%",
                    },
                    tooltip: {
                        trigger: "axis",
                        axisPointer: {
                            type: "shadow",
                        },
                        formatter: (params) => {
                            console.log(params);
                            let value = -1;
                            let result = "";
                            for (let i = 0; i < params.length - 1; i++) {
                                value += params[i].value;
                                result = `${params[i].seriesName}: ${(value * 100).toFixed(1)}%<br />` + result;
                            }
                            result = params[0].axisValueLabel + "<br />" + result;
                            return result;
                        },
                    },
                    // legend: {
                    //     data: ['1%', '5%', '20%', '50%', '80%', '95%', '99%']
                    // },
                    grid: {
                        left: '0%',
                        right: '150px',
                        bottom: '1%',
                        containLabel: true
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: xAxisList,
                        axisLabel: {
                            fontSize: 14,
                            fontWeight: "bold",
                        },
                    },
                    yAxis: {
                        type: 'value',
                        axisLabel: {
                            formatter: function (val) {
                                //return (val / 10000).toFixed(0).padStart(6, " ");
                                return ((val - 1) * 100).toFixed(0).padStart(4, " ") + "%";
                            },
                            fontSize: 14,
                            fontWeight: "bold",
                        },
                        splitLine: {
                            show: true,
                            lineStyle: {
                                color: "#494",
                            },
                        },
                        min: 0.7,
                        max: 1.3,
                        //min: function (value) {
                        //    return Math.floor((value.min - 0.1) * 10) / 10;
                        //},
                        //max: function (value) {
                        //    return Math.ceil((value.max + 0.1) * 10) / 10;
                        //},
                    },
                    series: series,/* 根据simulations计算出的分位数数据构建的series数组 */
                };
                console.log(o);
                return o;
            };
            const getChartsOption2 = (monthlyInvestment, totalMonths, isOneTimeInvestment, data) => {
                let monthlyValues = data.monthlyValues;

                // 首先，初始化series数组，该数组将包含所有模拟的数据
                let series = [];

                // 循环遍历每次模拟
                let CumulativeOffset = [];
                // F8EFFF
                // EFDBFF
                // D3ADF7
                // B889EA
                // 9F69E2
                // 8049C6
                // 531DAB
                // 391085
                // 22075E
                let colorList = ['rgba(255, 255, 255, 0)', '#EFDBFF', '#B889EA', '#8049C6', '#8049C6', '#B889EA', '#EFDBFF',];
                for (let i = 1; i <= 99;) {
                    let seriesData = [];
                    let lastValue = 0;
                    let xirrTransactions = [];

                    for (let month = 0; month <= totalMonths; month++) {
                        lastValue = monthlyValues[month][(i / 100.0 * monthlyValues[month].length).toFixed(0)];
                        // seriesData.push(lastValue - data.costList[month]); //非累积
                        if (CumulativeOffset.length == month) {
                            seriesData.push(lastValue);
                            CumulativeOffset.push(lastValue);
                        } else {
                            seriesData.push(lastValue - CumulativeOffset[month]);
                            CumulativeOffset[month] = lastValue;
                        }
                        if (month == 0 || month == totalMonths || !isOneTimeInvestment)
                            xirrTransactions.push({ amount: -monthlyInvestment, date: dayjs().add(month, 'month') });
                    }

                    xirrTransactions[xirrTransactions.length - 1].amount = lastValue;
                    let xirr = calcualteXirr(xirrTransactions);
                    let name = "中间";
                    if (i < 50)
                        name = "差" + i + "%";
                    if (i > 50)
                        name = "优" + (100 - i) + "%";
                    // 每次模拟的数据将是一个新对象
                    let seriesObj = {
                        name: name, // 为每个模拟创建一个名称，如"Simulation 1"
                        type: 'line', // 图表类型是折线图
                        data: seriesData, // 数据是这个模拟每个月末的价值
                        smooth: false, // 如果你希望线条平滑可以设置为true
                        showSymbol: false, // 不显示数据点的符号
                        endLabel: {
                            show: true,
                            fontSize: 14,
                            fontWeight: "bold",
                            formatter: function () {
                                return name + " 收益" + ((lastValue - data.costList[data.costList.length - 1]) / 10000).toFixed(0) + "万" + "\n" +
                                    "XIRR: " + (xirr * 100).toFixed(2) + "%";
                            }
                        },
                        labelLayout: {
                            moveOverlap: 'shiftY',   //设置这个配置项之后标签不在重叠
                        },
                        stack: 'Total',
                        itemStyle: { color: (i <= 80 && i >= 20) ? 'rgba(255, 255, 255, 0.4)' : 'rgba(0, 0, 0, 0.15)', },
                        areaStyle: {
                            color: colorList[series.length],
                            opacity: 0.8,
                        },
                    };

                    // 将这个对象添加到series数组中
                    series.push(seriesObj);

                    switch (i) {
                        case 1:
                            i = 5;
                            break;
                        case 5:
                            i = 20;
                            break;
                        case 20:
                            i = 50;
                            break;
                        case 50:
                            i = 80;
                            break;
                        case 80:
                            i = 95;
                            break;
                        case 95:
                            i = 99;
                            break;
                        case 99:
                            i = 100;
                            break;
                    }
                }
                {
                    let seriesObj = {
                        name: "成本", // 为每个模拟创建一个名称，如"Simulation 1"
                        type: 'line', // 图表类型是折线图
                        data: data.costList, // 数据是这个模拟每个月末的价值
                        smooth: false, // 如果你希望线条平滑可以设置为true
                        showSymbol: false, // 不显示数据点的符号
                        endLabel: {
                            show: false,
                            formatter: function () {
                                return "成本" + (data.costList[data.costList.length - 1] / 10000).toFixed(0) + "万)";
                            }
                        },
                        labelLayout: {
                            moveOverlap: 'shiftY',   //设置这个配置项之后标签不在重叠
                        },
                        itemStyle: { color: '#D9333B' },
                    };

                    // 将这个对象添加到series数组中
                    series.push(seriesObj);
                }
                console.log(series);

                if (monthlyValues == null) return {};

                let o = {
                    toolbox: {
                        feature: {
                            dataZoom: {
                                yAxisIndex: 'none'
                            },
                            restore: {},
                            saveAsImage: {}
                        }
                    },
                    animationDuration: 500,
                    title: {
                        text: "终值概率分布 " + data.msg,
                        // textAlign: "center",
                        // left: "50%",
                    },
                    tooltip: {
                        trigger: "axis",
                        axisPointer: {
                            type: "shadow",
                        },
                        formatter: (params) => {
                            console.log(params);
                            let value = -1;
                            let result = "";
                            let cost = params[params.length - 1].value;
                            for (let i = 0; i < params.length - 1; i++) {
                                value += params[i].value;
                                result = `${params[i].seriesName}: ${(value / 10000).toFixed(0)} (${((value - cost) / 10000).toFixed(0)})<br />` + result;
                            }
                            result = `成本: ${(cost / 10000).toFixed(0)}<br />` + result;
                            result = params[0].axisValueLabel + "<br />" + result;
                            return result;
                        },
                    },
                    grid: {
                        left: '0%',
                        right: '150px',
                        bottom: '1%',
                        containLabel: true
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: Array.from({ length: monthlyValues.length }, (_, i) => `月${i}`),/* 需要计算出所有月份的数组 */
                        axisLabel: {
                            fontSize: 14,
                            fontWeight: "bold",
                        },
                    },
                    yAxis: {
                        type: 'value',
                        axisLabel: {
                            formatter: function (val) {
                                return (val / 10000).toFixed(0).padStart(6, " ");
                            },
                            fontSize: 14,
                            fontWeight: "bold",
                        },
                        splitLine: {
                            show: true,
                            lineStyle: {
                                color: "#494",
                            },
                        },
                    },
                    series: series,/* 根据simulations计算出的分位数数据构建的series数组 */
                };
                console.log(o);
                return o;
            };

            return {
                message,
                form,
                formAdjust,
                option,
                option2,
                onDoCalculate,
            }
        }
    }).use(ElementPlus).component('e-charts', VueECharts).mount('#app')
</script>

</html>
